- [数据仓库学习笔记 | 数仓建设规范指南：一、数据模型架构原则 - 知乎 (zhihu.com)](https://zhuanlan.zhihu.com/p/562692132)

# **1.数仓分层原则**

既要保证数据层的稳定，又要屏蔽对下游的影响，并且要避免链路过长。不能为了分层而分层，没有最好的，只有适合的。

**分层的目的**是为目前业务提供数据支撑，为未来业务提供数据驱动和赋能。

**分层的优点：**

（1）清晰数据结构；

（2）数据血缘追踪；

（3）减少重复开发；

（4）数据关系条理化；

（5）屏蔽原始数据的影响。

# **2.数据分层架构**

**DW层是数据建设的核心层。**

（1）ODS层：原封不动的接入原始数据即可。

（2）DW层：数据仓库层，分为DWD、DWM和DWS层。

2-1）DWD层：数据明细层

保持和 ODS 层一样的数据粒度，在该层将数据清理、 整合、 规范化。

2-2）DWM层：数据中间层

对通用的核心维度进行聚合操作， 算出相应的统计指标。

2-3）DWS层：数据服务层

整合汇总成分析某一个主题域的服务数据， 一般是宽表。

（3）ADS层：数据应用层

提供给数据产品和数据分析使用的数据。

（4）维度层

# **3.主题域划分原则**

（1）按照业务或业务过程划分

业务指的是功能模块/业务线。业务过程指的是企业业务活动事件。

（2）按照数据域划分

数据域是指面向业务分析， 将业务过程或者维度进行抽象的集合。

# **4.数据模型设计原则**

（1）高内聚、低耦合

主题内部高内聚、不同主题间低耦合。

（2）核心模型和扩展模型要分离

不能让扩展模型的字段过度侵入核心模型， 以免破坏核心模型的架构简洁性与可维护性。

（3）公共处理逻辑下沉及单一

不要让公用的处理逻辑暴露给应用实现， 不要让公共逻辑多处同时存在。

（4）成本与性能平衡

适当的数据冗余可换取查询和刷新性能， 不宜过度冗余与数据复制。

（5）数据可回滚

处理逻辑不变， 在不同时间多次运行数据结果确定不变。

------

**术语解释：**

1、OLAP 是在线分析处理技术，可以让用户轻松提取所需的数据并查询数据，以便从不同的角度进行分析。

2、数据粒度，是指数据仓库中数据的细化和综合程度， 越细的数据包含的信息越多。

3、事实表：是指存储有事实记录的表，如系统日志、销售记录等。

维度表： 存储维度的属性值，可以跟事实表做关联，相当于将事实表上经常重复出现的属性抽取、规范出来用一张表进行管理。常见的维度表有：日期表、地点表等。