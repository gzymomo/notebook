# 容器交付流程



![](..\..\img\ci.png)



在Kubernetes部署项目流程（细节过程）

![](..\..\img\k8sci.png)

# 1、部署Java项目

## 1.1 制作镜像



## 1.2 推送镜像



## 1.3 部署镜像，对外暴露应用

在master上操作。

```bash
kubectl create deployment javademo1 --images='镜像名及版本号'
```

导出yaml

```bash
kubectl create deployment javademo1 --images='镜像名及版本号' --rty-run -o yaml > javademo1.yaml
```



执行yaml文件

```bash
kubectl apply -f javademo1.yaml
```

查看：

```bash
kubectl get pods
```

扩容：

```bash
kubectl scale deployment javademo1 --replicas=3
```



对外端口：(Service和Ingress都提供了负载均衡)

- Service方式

```bash
kubectl expose deployment javademo1 --port=8111 --target-port=8111 --type=NodePort
```

查看对外暴露端口号：

```bash
kubectl get svc
```





