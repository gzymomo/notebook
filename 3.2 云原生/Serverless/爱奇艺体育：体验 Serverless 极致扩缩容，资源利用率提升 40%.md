- [爱奇艺体育：体验 Serverless 极致扩缩容，资源利用率提升 40%](https://mp.weixin.qq.com/s?__biz=MzI4NzI5MDM1MQ==&mid=2247492523&idx=1&sn=f9eb1b37043cf1b968e3adb3b40ea2d6&chksm=ebcd452bdcbacc3dbd81835e353b6689d9e798aeabda9b4e4ec8a39029b6657f3bd47f5f9ef8&scene=21#wechat_redirect)

爱奇艺体育是中国知名的体育赛事平台，提供西甲、网球、高尔夫等赛事直播、视频、新闻等超多精彩内容。作为线上体育赛事综合内容平台，爱奇艺体育的业务特性显而易见，比如定期峰谷、流量激增、频繁更新等，也因为这些业务特点，导致一系列相应问题的产生：

- 每周都会有定期业务洪峰，面对业务洪峰时每一次都要提前进行容量预估、准备环境、部署应用等繁琐操作，存在大量的重复工作。
- 面对突然的流量激增，往往需要临时部署应用进行应对，整个流程不仅仅比较耗时，同时影响客户侧的用户体验。
- 怎样对线上微服务架构做到有效的监控，一直困扰着运维团队。急需一个能够及时发现、定位问题的监控解决方案，这是客户一直期望的。
- 线上系统资源利用率的有效提升：因客户业务特性，在业务洪峰时需要大量的服务进行支持，在业务稳定期需要及时释放掉部分服务。
- 系统上线流程需要一套完整的解决方案，每每上线新的版本都需要较为繁琐的配置从而完成灰度、金丝雀发布。

爱奇艺体育一直在寻找一个简单完美的解决方案，可以使得上述问题一并解决。经过与阿里云技术专家多次沟通，Serverless 应用引擎 SAE 可以解决爱奇艺体育直播面临的痛点，对于直播的业务和效率都有非常显著的提升。

## 1 Serverless 应用引擎 SAE 的独特之处

Serverless 应用引擎 SAE 是面向应用的 Serverless PaaS 平台，提供了效率更高、成本更优的一站式应用托管方案。零门槛+零改造+零容器基础，即享 Serverless + K8s + 微服务带来的技术红利。

![image-20220117231127457](https://gitee.com/er-huomeng/img/raw/master/img/image-20220117231127457.png)

SAE 有三个典型应用场景：

- 微服务架构转型：企业在微服务架构转型时会面临诸多痛点，如微服务或容器化改造技术门槛和维护成本高，稳定性风险大，产品迭代跟不上业务变化，研发效率低。SAE 开箱即用，支持 Spring Cloud/Dubbo/HSF 等全套微服务架构升级，平滑迁移，提升业务交付效率；免运维 IaaS  和微服务组件，云平台负责稳定性兜底。

- Serverless 极致弹性：对于新零售、互娱、文化传媒、餐饮/出行等行业，常常会面临大促活动，大促时容量预估不准，突发流量时系统 SLA  有风险；波峰波谷特征明显，存在大量闲置浪费。SAE 可以提供精准容量+ 极致弹性 + 限流降级一整套高可用方案，做到灵活启停、提升资源利用率。

- 企业快速上云/搬站：对于泛互联网、物联网、区块链、供应链等行业，SAE 可以助力企业上云/搬站过程中，打通 DevOps & 基础产品&  监控产品&高可用产品等，提供一站式开箱即用体验。同时，SAE 提供全托管服务，云产品件集成度高，提升业务交付效率。

综合来看，SAE 对于企业的价值可以总结为 4 点，那就是：

- 免运维：帮助用户屏蔽底层 IaaS 和 K8s 细节，专注业务开发；

- 零改造：微服务应用无缝迁移，war/jar 应用无需容器化改造；

- 极致效率：提供秒级的弹性效率和极致 Java 应用启动效率；

- 一站式体验：无缝集成基础服务与微服务生态，客户体验好。

爱奇艺体育在直播业务中使用 SAE，带来了哪些价值？

## 2 爱奇艺体育的 Serverless 实践

通过阿里云 Serverless 应用引擎(SAE)的弹性伸缩特性，爱奇艺体育只需要通过简单的配置规则就能够从容面对定期的业务洪峰。同时，SAE  提供微服务的生命周期管理功能，使整个部署周期极大简单化，高效化。而内置无缝集成的 ARMS  监控做到端到端的微服务解决方案，能够及时精准的定位问题，使得系统 Bug 无处隐藏，极大提升用户体验。最后，应用高可用 AHAS  从服务降级、熔断、限流方面给出了近乎完美的解决方案。

![image-20220117231134830](https://gitee.com/er-huomeng/img/raw/master/img/image-20220117231134830.png)

- 通过 SAE 弹性策略解决方案，可以从容应对固定周期的业务洪峰，省去了原来预估资源、部署应用的操作，极大减轻了运维团队的工作量，整体效率提升 40%。

- 通过 SAE 极致弹性的特性，可以做到在面对突增业务流量时的从容应对，无需临时部署应用，极大提升了用户体验。

- 通过SAE自带的监控解决方案以及与 ARMS 监控的无缝集成，帮助客户快速、精准定位问题，整体 Bug 处理速度提升 30%。

- SAE 极致扩缩容的背后是极致的资源利用率，帮助客户整体资源利用率提升近 50%。

- 通过 SAE 平台对微服务生命周期的管理，上线周期缩短达 40%。