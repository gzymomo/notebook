- [DDD划分领域、子域、核心域、支撑域的目的](https://www.cnblogs.com/Courage129/p/14853600.html)

## 1 名词解释

在[DDD兴起的原因以及与微服务的关系](https://www.cnblogs.com/Courage129/p/14839544.html)中曾举了一个研究桃树的例子，如果要研究桃树，将桃树根据器官分成根、茎、叶、花、果实、种子，这每一种器官都可以认为是一个研究领域,而领域又有更加具体的细分,分成子域、核心域、通用域、支撑域等，下面回顾桃树这个例子

![image-20211214192935952](https://gitee.com/er-huomeng/img/raw/master/image-20211214192935952.png)

看上面这张图 ，如果研究桃树是我们的业务，那么如何更加快速有效的研究桃树呢？ 根据回忆，初中课本是这样研究的:

**第一步:** 确定研究的对象，即研究领域 ，这里是一棵桃树。

**第二步:** 根据研究对象的某些维度，对其进行进一步的拆分，例如拆分成器官，而器官又可以分成营养器官，生殖器官，其中营养器官包括根、茎、叶,生殖器官包括花、果实、种子,那么这些就是我们要研究的子域。

**第三步:** 现在就可以最子域进行划分了，找出核心域,通用域,支撑域,至于为什么要这么划分，后面再解释，当我们找到核心域之后，再各个子域进行深一步的划分，划分成组织，例如分成保护组织,营养组织,疏导组织，这就儿也可以理解成将领域继续划分为子域的过程。

**第四步:**对组织进行进一步的划分，可以分成细胞，例如根毛细胞、导管细胞等等

我们有没有必要继续拆分细胞呢？这个取决于我们研究的业务，例如在之前光学显微镜时，研究到细胞也就截止了，具体到其他业务，也是研究到某一步就不需要继续拆分，而这最小层次的领域，通常就是我们所说的实体，聚合、聚合根、实体以及值对象等内容会在后面深入了解。

![image-20211214192947516](https://gitee.com/er-huomeng/img/raw/master/image-20211214192947516.png)

下面归纳一下上面提到的几个名词的概念 :

**领域**： 往往就是业务的某一个部分 ， 例如电商的销售部分、物流部分、供应链部分等，  这些对于电商来说就是各个领域(模块)，领域主要作用就是用来驱动范围，  DDD  会将问题范围限定在特定的边界内，在这个边界内建立领域模型，进而用代码实现该领域模型，解决相应的业务问题。简言之，DDD  的领域就是这个边界内要解决的业务问题域。

**子域**：相对的一个概念， 我们可以将领域进行进一步的划分 ， 这时候就是子域， 甚至可以对子域继续划分形成 子子域(依旧叫**子域**)，就好比当我们研究植物时，如果研究的对象是桃树，那么果实根茎叶是领域，可是如果不仅仅要研究果实，还要研究组织甚至细胞，那么研究的就是果实的子域、组织的子域。

**核心域**：所有领域中最关键的部分 ， 什么意思呢， 就是最核心的部分， 对于业务来说，  核心域是企业根本竞争力， 也是创造利润里最关键的部分 ， 例如电商里面那么多领域， 最重要的是什么？ 就是销售系统， 无论你是2B还是2C，  还是PDD ，这些核心模块就是核心域。

**通用域**:除了核心域之外， 还需要自己做的一些领域， 例如鉴权、日志等， 特点是可能被多个领域公用的部分。

**支撑域**:系统中业务分析阶段最不重点关注的领域， 也就是非核心域非通用域的领域， 例如电商里面的支付、物流，仅仅是为了支撑业务的运转而存在， 甚至可以去购买别人的服务， 这类的领域就是支撑域。

需要注意的是，这些名词在实际的微服务设计和开发过程中不一定用得上，但是可以帮助理解DDD的核心设计思想以及理念，而这些思想和理念在实际的IT战略设计业务建模和微服务设计上都是可以借鉴的。

## 2 为什么要划分核心域、通用域、支撑域 ？

通过上面可以知道，决定产品和公司核心竞争力的子域是核心域，它是业务成功的主要因素和公司的核心竞争力。没有太多个性化的诉求，同时被多个子域使用的通用功能子域是通用域。还有一种功能子域是必需的，但既不包含决定产品和公司核心竞争力的功能，也不包含通用功能的子域，它就是支撑域。

这三类子域相较之下，核心域是最重要的，我们下面讲目的的时候还会以核心域为例详细介绍。通用域和支撑域如果对应到企业系统，举例来说的话，通用域则是你需要用到的通用系统，比如认证、权限等等，这类应用很容易买到，没有企业特点限制，不需要做太多的定制化。而支撑域则具有企业特性，但不具有通用性，例如数据代码类的数据字典等系统。

那么为什么要划分出这些新的名词呢？ 先想一个问题,对于桃树而言，根、茎、叶、花、果实、种子六个领域哪一个是核心域？

是不是有不同的理解？  有人说是种子，有人说是根，有人说是叶子，也有人说是茎等等，为什么会有这种情况呢？

因为每个人站的角度不一样，你如果是果农，那么果实就是核心域，你的大部分操作应该都是围绕提高果实产量进行，如果你是景区管理员，那么芳菲四月桃花盛开才是你重点关注，如果比是林场工作人员，那么树干才应该是你重点关注的领域，看到没，对于同一个领域划分的子域，每个人都有不同的理解，那么要通过讨论确定核心域，确保大家认同一致，对于实际业务开发来说，参与的人员众多，有业务方面的，有架构师，有后端开发人员，营销市场等等，势必要最开始就确定我们的核心域，除了统一大家的认识之外还有什么好处呢？

对于一个企业来说，预算以及时间是有限的，也就意味着时间以及精力甚至金钱要尽可能多的花在核心的的地方。就好比电商，电商企业那么多，每一家核心域都有所差别，造成的市场结果也千差万别,那么公司战略重点和商业模式应该找到核心域，且重点关注核心域。

总的来说，核心域、支撑域和通用域的主要目标是：通过领域划分，区分不同子域在公司内的不同功能
 属性和重要性，从而公司可对不同子域采取不同的资源投入和建设策略，其关注度也会不一样。