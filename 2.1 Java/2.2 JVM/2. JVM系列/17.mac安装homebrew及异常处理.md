- [17.macå®‰è£…homebrewåŠå¼‚å¸¸å¤„ç†](https://www.cnblogs.com/ITPower/p/15538780.html)

macå®‰è£…homebrew

åœ¨macä¸Šå®‰è£…è½¯ä»¶ï¼Œéƒ½ä¼šç”¨åˆ°homebrewï¼Œç¬¬ä¸€æ¬¡å®‰è£…ï¼Œæœ‰å¾ˆå¤šå‘ï¼Œè¿™é‡Œè®°å½•ä¸€ä¸‹

1. homebrewæ˜¯å›½å¤–æºï¼Œå®‰è£…ç‰¹åˆ«æ…¢ï¼Œåˆ‡ä¸å®¹æ˜“è£…å¥½----ã€‹ä½¿ç”¨å›½å†…æº

2. å®‰è£…wgetè½¯ä»¶æŠ¥é”™

   ```java
   wget: Failed to download resource "gettext"
   Download failed: https://ghcr.io/v2/homebrew/core/gettext/blobs/sha256:a025e143fe3f5f7e24a936b8b0a4926acfdd025b11d62024e3d355c106536d56
   ```

   é—®é¢˜æ˜¯ï¼šhomebrewçš„HOMEBREW_BOTTLE_DOMAINåœ°å€æ²¡æœ‰æˆ–è€…ä¸å¯¹ã€‚ä¸‹é¢æ¥çœ‹çœ‹è¿™ä¸¤ä¸ªé—®é¢˜çš„è§£å†³æ–¹æ¡ˆã€‚

# ä¸€ã€macOS å®‰è£… homebrew å›½å†…æº

èƒŒæ™¯

åœ¨å®‰è£… homebrew æ—¶ï¼Œç”¨å®˜ç½‘çš„å®‰è£…æ–¹æ³•å¾ˆæ…¢ä¸”å®¹æ˜“ä¸­æ–­ï¼Œæ‰€ä»¥æƒ³åˆ°ä½¿ç”¨å›½å†…çš„æºè¿›è¡Œå®‰è£…ã€‚

Homebrew ç§‘å¤§æº

æˆ‘ä»¬å°†å®‰è£…æºåœ°å€è®¾ç½®ä¸º `https://raw.githubusercontent.com/Homebrew/install/master/install.sh`

å³è¿›è¡Œä¸€ä¸‹æ“ä½œï¼š

```
cd ~
curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install.sh >> brew_install
```

åœ¨ç»ˆç«¯ç”¨ `open -e brew_install` æˆ–è€…åœ¨è®¿è¾¾ä¸­ç›´æ¥æœç´¢æ•´å°Mac `home_brew` åŒå‡»æ‰“å¼€ã€‚

```
#BREW_REPO="https://github.com/Homebrew/brew" #ç”¨ç¬¬äºŒè¡Œå†…å®¹æ›´æ¢è¯¥è¡Œå†…å®¹
BREW_REPO="git://mirrors.ustc.edu.cn/brew.git"
```

ä¿å­˜ä¹‹åï¼Œåœ¨ç»ˆç«¯ä¸­è¾“å…¥`/bin/bash brew_install` è¿›è¡Œå¿«é€Ÿå®‰è£…ã€‚

åœ¨å®‰è£…è¿‡ç¨‹ä¸­ä¼šå¡åœ¨

```
Cloning into '/usr/local/Homebrew/Library/Taps/homebrew/homebrew-core'...
```

äºæ˜¯å¯ä»¥ç›´æ¥ `control c` ç»“æŸï¼Œå¹¶ç›´æ¥ä½¿ç”¨ ğ‘ˆğ‘†ğ‘‡ğ¶USTC æºè¿›è¡Œæ›´æ¢ã€‚

```
mkdir -p /usr/local/Homebrew/Library/Taps/homebrew/
cd /usr/local/Homebrew/Library/Taps/homebrew
git clone https://mirrors.ustc.edu.cn/homebrew-core.git
```

é…ç½®å®Œæˆåç»ˆç«¯è¾“å…¥`brew help` æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯åˆ™è¯´æ˜å®‰è£…æˆåŠŸï¼Œå¦‚æœæç¤ºå¤±è´¥è¯·æ£€æŸ¥ /usr/local/bin ä¸‹æ˜¯å¦æœ‰ brewï¼Œæœ‰çš„è¯æ·»åŠ ç¯å¢ƒå˜é‡å³å¯ã€‚

æ£€æŸ¥æ“ä½œ

```
cd /usr/local/bin
ls | grep brew
```

# äºŒã€å®‰è£…wgetè½¯ä»¶æŠ¥é”™

## 1.æŠ¥é”™ä¿¡æ¯

åœ¨å®‰è£…wgetçš„æŠ¥é”™ï¼ŒæŠ¥é”™ä¿¡æ¯å¦‚ä¸‹ï¼š

```java
==> Downloading https://ghcr.io/v2/homebrew/core/gettext/manifests/0.21
Already downloaded: /Users/aaa/Library/Caches/Homebrew/downloads/66569d4eb02ec67195446d3dcba7d7806a35f88f629a55b43ba53fb1febb1f56--gettext-0.21.bottle_manifest.json
==> Downloading https://ghcr.io/v2/homebrew/core/gettext/blobs/sha256:a025e143fe
==> Downloading from https://pkg-containers.githubusercontent.com/ghcr1/blobs/sh
###################                                                       27.3%
  
  
curl: (92) HTTP/2 stream 0 was not closed cleanly: PROTOCOL_ERROR (err 1)
Error: wget: Failed to download resource "gettext"
Download failed: https://ghcr.io/v2/homebrew/core/gettext/blobs/sha256:a025e143fe3f5f7e24a936b8b0a4926acfdd025b11d62024e3d355c106536d56
```

## 2.æŸ¥çœ‹HOMEBREW_BOTTLE_DOMAINåœ°å€

è¿è¡Œbrew configï¼Œ æŸ¥çœ‹HOMEBREW_BOTTLE_DOMAINçš„åœ°å€

```java
brew config
```

è¾“å‡ºçš„åœ°å€ä¸­æ²¡æœ‰HOMEBREW_BOTTLE_DOMAINï¼Œæˆ–è€…æ˜¯HOMEBREW_BOTTLE_DOMAIN: https://mirrors.ustc.edu.cn/homebrew-bottles éƒ½ä¸è¡Œã€‚åè€…åœ°å€æ˜¯é”™è¯¯çš„ã€‚

![img](https://img2020.cnblogs.com/blog/1187916/202111/1187916-20211111103000733-617882505.png)

æˆ‘çš„æ˜¯é‡Œé¢æ²¡æœ‰è¿™ä¸ªåœ°å€ã€‚æ‰€ä»¥éœ€è¦æ·»åŠ åœ°å€

## 3.æ·»åŠ HOMEBREW_BOTTLE_DOMAINåœ°å€

æŸ¥é˜…äº†[[Homebrew Bottles æºä½¿ç”¨å¸®åŠ©](https://link.zhihu.com/?target=http%3A//mirrors.ustc.edu.cn/help/homebrew-bottles.html%23homebrew-bottles)]ï¼Œæ­£ç¡®çš„åœ°å€æ˜¯:

```java
https://mirrors.ustc.edu.cn/homebrew-bottles/bottles/
```

äºæ˜¯ï¼Œä¿®æ”¹HOMEBREW_BOTTLE_DOMAINçš„åœ°å€ã€‚

æ‰§è¡Œå‘½ä»¤ï¼š

```java
echo 'export HOMEBREW_BOTTLE_DOMAIN=https://mirrors.ustc.edu.cn/homebrew-bottles/bottles' >> ~/.zshrc
source ~/.zshrc
```

## 4.æ£€æŸ¥ä¿®æ”¹ç»“æœ

å†è¿è¡Œä¸€æ¬¡brew config

![img](https://img2020.cnblogs.com/blog/1187916/202111/1187916-20211111103241773-2048678368.png)

## 5.é‡æ–°å®‰è£…wget

```java
brew install wget
```

![img](https://img2020.cnblogs.com/blog/1187916/202111/1187916-20211111103351035-573092525.png)

æˆåŠŸï¼